 
    drop table events if exists;

    drop table events_participants if exists;
    
    drop table location if exists;

    drop table users if exists;
    
    drop table users_friends if exists;

    
    create table events (
       id bigint generated by default as identity,
        date date not null,
        description varchar(100) not null,
        event_name varchar(50) not null,
        open boolean not null,
        time time not null,
        creator_id bigint not null,
        location_id bigint,
        primary key (id)
    );

    
    create table events_participants (
       event_id bigint not null,
        participants_id bigint not null
    );

    
    create table location (
       id bigint generated by default as identity,
        city varchar(50) not null,
        country varchar(50) not null,
        latitude varchar(50),
        longitude varchar(50),
        postalcode varchar(50) not null,
        street varchar(50) not null,
        streetno varchar(50) not null,
        primary key (id)
    );

    
    create table users (
       id bigint generated by default as identity,
        email varchar(50) not null,
        first_name varchar(50) not null,
        last_name varchar(50) not null,
        password varchar(50) not null,
        location_id bigint,
        primary key (id)
    );

    create table users_friends (
       user_id bigint not null,
        friends_id bigint not null
    );

    alter table events_participants 
       add constraint UK_r4er1vitv3l43lmcuwxrcrqwb unique (participants_id);

    
    alter table users_friends 
       add constraint UK_eslx46xq9voscm63qgdtr5c28 unique (friends_id);
 
    
    alter table events 
       add constraint FK7ljm71n1057envlomdxcni5hs 
       foreign key (creator_id) 
       references users;

    
    alter table events 
       add constraint FKmgbllk0vd35syv5fm76y95toq 
       foreign key (location_id) 
       references location;

    
    alter table events_participants 
       add constraint FK9ndt2efi9nmoxfvtoitu3h4c3 
       foreign key (participants_id) 
       references users;

    
    alter table events_participants 
       add constraint FK35vivi0eufexku60chhfhw5ol 
       foreign key (event_id) 
       references events;

    
    alter table users 
       add constraint FKscan6s3oplch90k26jpvied7b 
       foreign key (location_id) 
       references location;

    
    alter table users_friends 
       add constraint FKo51ktjiheso8mkdd5n4pdf9f3 
       foreign key (friends_id) 
       references users;

    
    alter table users_friends 
       add constraint FKry5pun2eg852sbl2l50p236bo 
       foreign key (user_id) 
       references users;